<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/markdown-it@13.0.1/dist/markdown-it.min.js"></script>
    <script defer>
      const genRanHex = size => [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');
      const sp = new URLSearchParams(window.location.search)
      let loc = sp.get('location');
      if (!loc) loc = prompt('Enter a MD file\'s URL:')
      const md = window.markdownit();
      (async()=>{
        try {
        const result = md.render(await (await fetch('https://cors-anywhere.herokuapp.com/'+loc, {'headers':{'x-requested-with': genRanHex(32)}})).text());
        document.body.innerHTML = result;
        } catch(e){
          console.error(e)
          alert('Exception Occurred:\n'+e+'\n\nIf you haven\'t already, please visit https://cors-anywhere.herokuapp.com/corsdemo & click the button to use this.')
        }
      })()
    </script>
  </head>
